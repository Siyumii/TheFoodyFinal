@using TheFoody.Controllers
@{
    ViewBag.Title = "Checkout";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Checkout</h2>
<div class="breadcrumb-wrapper">

    <div class="container">

        <ol class="breadcrumb-list booking-step">
            <li><a href="index.html">Home</a></li>
            <li><span>Order Process</span></li>
        </ol>

    </div>

</div>
<!-- end hero-header -->

<div class="section sm">
    <!-- Content Start -->
    <!-- Start order-online-->
    <div id="order-process">
        <div class="container">

            <div class="order-inner-content">
                <div class="row">
                    <div class="col-md-9">
                        <div class="order-process-left-side">
                            <div class="order-information row">
                                <div class="col-md-6">
                                    <h4 class="section-title pb-10">Order information</h4>
                                    <ul class="list-unstyled info-list">
                                        <li>
                                            <input class="custom-radio-big" type="radio" name="collection" id="collection" checked>
                                            <label for="collection">Collection</label>
                                        </li>
                                        <li>
                                            <div class="row">
                                                <div class="col-md-6 col-xs-6 col-sm-6">
                                                    <input class="custom-radio-big" type="radio" name="delivery-priority" id="asap" checked>
                                                    <label for="asap">ASAP</label>
                                                </div>
                                                <div class="col-md-6 col-xs-6 col-sm-6">
                                                    <input class="custom-radio-big" type="radio" name="delivery-priority" id="later">
                                                    <label for="later">Later</label>
                                                </div>
                                            </div>
                                            <div class="row order-time-options">
                                                <div class="col-md-6">
                                                    <select name="delivery-day" id="order-delivery-day">
                                                        <option value="today">Today</option>
                                                        <option value="tomorrow">Tomorrow</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-6">
                                                    <select name="delivery-time" id="order-delivery-time">
                                                        <option value="">Select Time</option>
                                                        <option value="1:30 PM">1:30 PM</option>
                                                        <option value="1:45 PM">1:45 PM</option>
                                                        <option value="2:00 PM">2:00 PM</option>
                                                        <option value="6:00 PM">6:00 PM</option>
                                                        <option value="6:15 PM">6:15 PM</option>
                                                        <option value="6:30 PM">6:30 PM</option>
                                                        <option value="6:45 PM">6:45 PM</option>
                                                        <option value="7:00 PM">7:00 PM</option>
                                                        <option value="7:15 PM">7:15 PM</option>
                                                        <option value="7:30 PM">7:30 PM</option>
                                                        <option value="7:45 PM">7:45 PM</option>
                                                        <option value="8:00 PM">8:00 PM</option>
                                                        <option value="8:15 PM">8:15 PM</option>
                                                        <option value="8:30 PM">8:30 PM</option>
                                                        <option value="8:45 PM">8:45 PM</option>
                                                        <option value="9:00 PM">9:00 PM</option>
                                                        <option value="9:15 PM">9:15 PM</option>
                                                        <option value="9:30 PM">9:30 PM</option>
                                                        <option value="9:45 PM">9:45 PM</option>
                                                        <option value="10:00 PM">10:00 PM</option>
                                                        <option value="10:15 PM">10:15 PM</option>
                                                        <option value="10:30 PM">10:30 PM</option>
                                                        <option value="10:45 PM">10:45 PM</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="section-title pb-10 mb-15">Special Request</h4>
                                    <textarea class="special-request" name="special-request" id="special-request"></textarea>
                                </div>
                            </div>
                            <div class="row order-delivery-address">
                                <div class="col-md-6">
                                    <h4 class="section-title pb-10 mb-15">Your delivery address</h4>
                                    <ul class="list-unstyled">
                                        <li>
                                            <input type="text" class="text" placeholder="Sahaara Court, 83 Lancaster Road">
                                        </li>
                                        <li>
                                            <input type="text" class="text" placeholder="WC3 8RD">
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="section-title pb-10 mb-15">Delivery postcode area</h4>
                                    <div class="postcode">
                                        ME1 1,ME1 2,ME1 3,ME1 9,ME2 1,ME2 2,ME2 3,ME2 4,ME3 7,ME3 8,ME3 9,ME4 3,ME4 4,ME4 5,ME4 6,ME4 9,ME5 0,ME5 7,ME5 8,ME5 9,ME7 1,ME7 2,ME7 3,ME7 4,ME7 5,ME7 9,ME8 0,ME8 1,ME8 6,ME8 7,ME8 8,ME8 9,SP8 9,ME1 1,ME1 2,ME1 3,ME1 9,ME2 1,ME2 2,ME2 3,ME2 4,ME3 7,ME3 8,ME3 9,ME4 3,ME4 4,ME4 5,ME4 6,ME4 9,ME5 0,ME5 7,ME5 8,ME5 9,ME7 1,ME7 2,ME7 3,ME7 4,ME7 5,ME7 9,ME8 0,ME8 1,ME8 6,ME8 7,ME8 8,ME8 9,SP8 9,ME1 1,ME1 2,ME1 3,ME1 9,ME2 1,ME2 2,ME2 3,ME2 4,ME3 7,ME3 8,ME3 9,ME4 3,ME4 4,ME4 5,ME4 6,ME4 9,ME5 0,ME5 7,ME5 8,ME5 9,ME7 1,ME7 2,ME7 3,ME7 4,ME7 5,ME7 9,ME8 0,ME8 1,ME8 6,ME8 7,ME8 8,ME8 9,SP8 9
                                    </div>
                                </div>
                            </div>
                            <div class="row order-payment-method">
                                <div class="col-md-12">
                                    <h4 class="section-title pb-10">Payment Options</h4>
                                    <ul class="list-inline payment-method-options">
                                        <li>
                                            <input class="custom-radio-big" type="radio" name="payment-option" id="method-cash">
                                            <label for="method-cash">Cash</label>
                                        </li>
                                        <li>
                                            <input class="custom-radio-big" type="radio" name="payment-option" id="method-paypal">
                                            <label for="method-paypal">Paypal</label>
                                        </li>
                                        <li>
                                            <input class="custom-radio-big" type="radio" name="payment-option" id="method-netpay">
                                            <label for="method-netpay">Netpay</label>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-12 payment-method-logos">
                                    <ul class="list-inline">
                                        <li><img src="images/payment-logo/cash.png" alt="Cash"></li>
                                        <li><img src="images/payment-logo/paypal.png" alt=""></li>
                                        <li><img src="images/payment-logo/worldpay.png" alt=""></li>
                                        <li><img src="images/payment-logo/netpay.png" alt=""></li>
                                        <li><img src="images/payment-logo/sagepay.png" alt=""></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Sidearea Starts -->
                    <div class="col-md-3 col-xs-12">
                        <!-- Spacer Starts -->
                        <div class="spacer-1 medium hidden-lg hidden-md"></div>
                        <!-- Spacer Ends -->
                        <!-- Your Order Starts -->
                        <div class="side-block-order border-radius-4">
                            <h5 class="text-center"><i class="fa fa-shopping-basket"></i> Your Orders</h5>
                            <!-- Heading Ends -->
                            <!-- Order Content Starts -->
                            <div class="side-block-order-content">
                                <!-- Order Item List Starts -->
                                <ul class="list-unstyled order-item-list">
                                    @{double total = 0;}
                                    @if (Session["Cart"] == null)
                                    {
                                        <li class="clearfix">
                                            <span class="pull-left">No Items in the basket</span>
                                            <span class="pull-right text-spl-color">-</span>
                                        </li>
                                    }
                                    else
                                    {
                                        foreach (Item item in (List<Item>)Session["Cart"])
                                        {


                                            double itemprice = item.Cartitem.MenuPrice * item.Cartitem.Quantity;
                                            total = total + itemprice;
                                            <li class="clearfix">

                                                @*@helper AjaxLink(string action, string controller, string icon_name)
                            {
                            <a href="@Url.Action(action, new { controller = controller })" data-ajax-update="#shoppingcart" data-ajax-mode="replace" data-ajax="true"><div class="icon @icon_name"></div></a>
                            }*@

                                                @*@Ajax.ActionLink("X", "RemovefromCart", new { Item = item }, new AjaxOptions
                                                   {
                                                       UpdateTargetId = "shoppingcart",
                                                       InsertionMode = InsertionMode.Replace,
                                                       HttpMethod = "GET",

                                                   }, new { style = "background-image:url(/images/remove.png)" })*@
                                                <span>@Html.DisplayFor(modelItem => item.Cartitem.Quantity)</span>
                                                <span>x</span>
                                                <span>@Html.DisplayFor(modelItem => item.Cartitem.MenuName)</span>
                                                <span class="pull-right text-spl-color">Rs.@itemprice</span>
                                            </li>
                                        }
                                    }
                                </ul>
                                <!-- Order Item List Ends -->
                                <div class="row">
                                    <div class="col-md-6 col-xs-6 col-sm-6">
                                        <input class="custom-radio-big" type="radio" name="deliverypriority" value="Collection" checked>
                                        <label for="collection">Collection</label>
                                        
                                    </div>
                                    <div class="col-md-6 col-xs-6 col-sm-6">
                                        <input class="custom-radio-big" type="radio" name="deliverypriority" id="delivery" value="Delivery">
                                        <label for="delivery">Delivery</label>
                                    </div>
                                </div>
                                <!-- Order Item Total Starts -->
                                <dl class="dl-horizontal order-item-total">
                                    <dt class="text-light">Orders Amount :</dt>
                                    <dd class="text-spl-color text-right">Rs.@total</dd>
                                    <dt class="text-light" id="delchargelbl">Delivery Charges :</dt>
                                    <dd class="text-spl-color text-right" id="delcharge">Rs.80.00</dd>
                                    <hr>
                                    <dt class="text-bold">Total  Amount :</dt>
                                    <dd class="text-bold text-spl-color text-right" id="totalam">Rs.@total</dd>
                                </dl>
                                <!-- Order Item Total Ends -->
                                

                            </div>
                        </div>
                        <!-- Your Order Ends -->
                        <div id="ad-wrapper">
                            <img class="img-responsive" src="images/add-banner/add-banner.png" alt="">
                        </div>
                    </div>
                    <!-- Sidearea Ends -->
                </div>
            </div>
        </div>
        <!--.container-->
    </div>
    <!--#order-online-->
    <!--end order-online-->
    <!-- Content End -->

</div>
<script type="text/javascript">
    $(function () {
        $("[name=deliverypriority]").on('change', function () {
            //var $radio = $(this);
            var value = $("input[name='deliverypriority']:checked").val();

            $.ajax({
                url: '@Url.Action("GetOrderForm", "Restaurant")',
                data: deliverypriority = value,
                type: 'GET',
                success: function (data) {
                    alert("Yes");
                    $("#loadpartial").html(data);
                }
            });
        });
    });
</script>

